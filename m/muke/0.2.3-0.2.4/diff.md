# Comparing `tmp/muke-0.2.3-py3-none-any.whl.zip` & `tmp/muke-0.2.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 15511 bytes, number of entries: 23
--rw-r--r--  2.0 unx      844 b- defN 23-Jul-20 13:09 muke/Lines.py
--rw-r--r--  2.0 unx    12452 b- defN 23-Jul-20 13:09 muke/Muke.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 13:09 muke/__init__.py
--rw-r--r--  2.0 unx     2571 b- defN 23-Jul-20 13:09 muke/__main__.py
--rw-r--r--  2.0 unx      330 b- defN 23-Jul-20 13:09 muke/detector/BaseDetector.py
--rw-r--r--  2.0 unx      392 b- defN 23-Jul-20 13:09 muke/detector/KeyPoint2.py
--rw-r--r--  2.0 unx      613 b- defN 23-Jul-20 13:09 muke/detector/MediaPipeFaceDetector.py
--rw-r--r--  2.0 unx      588 b- defN 23-Jul-20 13:09 muke/detector/MediaPipePoseDetector.py
--rw-r--r--  2.0 unx     1266 b- defN 23-Jul-20 13:09 muke/detector/MediaPiperBaseDetector.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 13:09 muke/detector/__init__.py
--rw-r--r--  2.0 unx      195 b- defN 23-Jul-20 13:09 muke/generator/BaseGenerator.py
--rw-r--r--  2.0 unx      536 b- defN 23-Jul-20 13:09 muke/generator/Wrap3Generator.py
--rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 13:09 muke/generator/__init__.py
--rw-r--r--  2.0 unx      296 b- defN 23-Jul-20 13:09 muke/model/DetectionView.py
--rw-r--r--  2.0 unx      730 b- defN 23-Jul-20 13:09 muke/model/KeyPoint3.py
--rw-r--r--  2.0 unx     2535 b- defN 23-Jul-20 13:09 muke/model/MukeConfiguration.py
--rw-r--r--  2.0 unx      394 b- defN 23-Jul-20 13:09 muke/model/__init__.py
--rw-r--r--  2.0 unx     1075 b- defN 23-Jul-20 13:09 muke-0.2.3.dist-info/LICENSE
--rw-r--r--  2.0 unx     6847 b- defN 23-Jul-20 13:09 muke-0.2.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jul-20 13:09 muke-0.2.3.dist-info/WHEEL
--rw-r--r--  2.0 unx       45 b- defN 23-Jul-20 13:09 muke-0.2.3.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        5 b- defN 23-Jul-20 13:09 muke-0.2.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1857 b- defN 23-Jul-20 13:09 muke-0.2.3.dist-info/RECORD
-23 files, 33663 bytes uncompressed, 12491 bytes compressed:  62.9%
+Zip file size: 15736 bytes, number of entries: 23
+-rw-r--r--  2.0 unx      844 b- defN 23-Jul-20 15:05 muke/Lines.py
+-rw-r--r--  2.0 unx    12478 b- defN 23-Jul-20 15:05 muke/Muke.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 15:05 muke/__init__.py
+-rw-r--r--  2.0 unx     2750 b- defN 23-Jul-20 15:05 muke/__main__.py
+-rw-r--r--  2.0 unx      330 b- defN 23-Jul-20 15:05 muke/detector/BaseDetector.py
+-rw-r--r--  2.0 unx      392 b- defN 23-Jul-20 15:05 muke/detector/KeyPoint2.py
+-rw-r--r--  2.0 unx      613 b- defN 23-Jul-20 15:05 muke/detector/MediaPipeFaceDetector.py
+-rw-r--r--  2.0 unx      588 b- defN 23-Jul-20 15:05 muke/detector/MediaPipePoseDetector.py
+-rw-r--r--  2.0 unx     1266 b- defN 23-Jul-20 15:05 muke/detector/MediaPiperBaseDetector.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 15:05 muke/detector/__init__.py
+-rw-r--r--  2.0 unx      195 b- defN 23-Jul-20 15:05 muke/generator/BaseGenerator.py
+-rw-r--r--  2.0 unx      536 b- defN 23-Jul-20 15:05 muke/generator/Wrap3Generator.py
+-rw-r--r--  2.0 unx        0 b- defN 23-Jul-20 15:05 muke/generator/__init__.py
+-rw-r--r--  2.0 unx      296 b- defN 23-Jul-20 15:05 muke/model/DetectionView.py
+-rw-r--r--  2.0 unx      730 b- defN 23-Jul-20 15:05 muke/model/KeyPoint3.py
+-rw-r--r--  2.0 unx     2727 b- defN 23-Jul-20 15:05 muke/model/MukeConfiguration.py
+-rw-r--r--  2.0 unx      394 b- defN 23-Jul-20 15:05 muke/model/__init__.py
+-rw-r--r--  2.0 unx     1075 b- defN 23-Jul-20 15:05 muke-0.2.4.dist-info/LICENSE
+-rw-r--r--  2.0 unx     7249 b- defN 23-Jul-20 15:05 muke-0.2.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jul-20 15:05 muke-0.2.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx       45 b- defN 23-Jul-20 15:05 muke-0.2.4.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        5 b- defN 23-Jul-20 15:05 muke-0.2.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1857 b- defN 23-Jul-20 15:05 muke-0.2.4.dist-info/RECORD
+23 files, 34462 bytes uncompressed, 12716 bytes compressed:  63.1%
```

## zipnote {}

```diff
@@ -45,26 +45,26 @@
 
 Filename: muke/model/MukeConfiguration.py
 Comment: 
 
 Filename: muke/model/__init__.py
 Comment: 
 
-Filename: muke-0.2.3.dist-info/LICENSE
+Filename: muke-0.2.4.dist-info/LICENSE
 Comment: 
 
-Filename: muke-0.2.3.dist-info/METADATA
+Filename: muke-0.2.4.dist-info/METADATA
 Comment: 
 
-Filename: muke-0.2.3.dist-info/WHEEL
+Filename: muke-0.2.4.dist-info/WHEEL
 Comment: 
 
-Filename: muke-0.2.3.dist-info/entry_points.txt
+Filename: muke-0.2.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: muke-0.2.3.dist-info/top_level.txt
+Filename: muke-0.2.4.dist-info/top_level.txt
 Comment: 
 
-Filename: muke-0.2.3.dist-info/RECORD
+Filename: muke-0.2.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## muke/Muke.py

```diff
@@ -206,15 +206,16 @@
             # render test rays
             def render_rays():
                 lines = Lines()
                 for i, ray in enumerate(rays):
                     lines.add_line(ray[:3], [ray[0] + ray[3], ray[1] + ray[4], ray[2] + ray[5]])
                 o3d.visualization.draw_geometries([mesh, lines.create_line_set()], window_name="Rays")
 
-            # render_rays()
+            if self.debug:
+                render_rays()
 
             # shoot rays
             t_mesh = o3d.t.geometry.TriangleMesh.from_legacy(mesh)
             scene = o3d.t.geometry.RaycastingScene()
             scene.add_triangles(t_mesh)
             ans = scene.cast_rays(o3d.core.Tensor(rays, dtype=o3d.core.Dtype.Float32))
 
@@ -229,15 +230,15 @@
                 # todo: add hit uv's (but how is it rotated?)
                 back_positions.append(barycenter)
 
             # calculate new mean positions
             lines = Lines()
             markers = []
             for i, kp in enumerate(result):
-                front_position = np.array([kp.x, kp.y, kp.z], dtype=np.float)
+                front_position = np.array([kp.x, kp.y, kp.z], dtype=float)
                 back_position = back_positions[i]
 
                 markers.append([front_position, back_position])
                 lines.add_line(front_position, back_position)
 
                 average_position = np.average(np.stack([front_position, back_position]), axis=0)
```

## muke/__main__.py

```diff
@@ -13,14 +13,16 @@
     parser = argparse.ArgumentParser(prog="muke",
                                      description='Detects keypoint locations in a 3d model.')
     parser.add_argument("input", help="Input mesh to process.")
     parser.add_argument("--detector", default=detection_methods[0], choices=detection_methods,
                         help="Detection method for 2d keypoint detection (default: %s)." % detection_methods[0])
     parser.add_argument("--resolution", default=MukeDefaultResolution, type=int,
                         help="Render resolution for each view pass (default: %d)." % MukeDefaultResolution)
+    parser.add_argument("--infinite-ray", action="store_true",
+                        help="Send ray through mesh to infinity and use average of intersections (default: False)")
     parser.add_argument("--generator", default=generator_methods[0], choices=generator_methods,
                         help="Generator methods for output generation (default: %s)." % generator_methods[0])
     parser.add_argument("--config", required=False, help="Path to the configuration JSON file.")
     parser.add_argument("--load-raw", action="store_true",
                         help="Load mesh raw without post-processing (default: False)")
     parser.add_argument("--display", action="store_true",
                         help="Shows result rendering with keypoints (default: False)")
```

## muke/model/MukeConfiguration.py

```diff
@@ -35,27 +35,33 @@
                 else:
                     # parse a range
                     start = value["start"]
                     end = value["end"]
                     skip = set(value.get("skip", []))
                     [view.keypoints.add(i) for i in range(start, end + 1) if i not in skip]
 
+            if "infinite-ray" in view_data:
+                view.infinite_ray = bool(view_data["infinite-ray"])
+
             views.append(view)
 
         if len(views) > 0:
             config.views = views
 
         return config
 
     @staticmethod
     def copy_single_params(config, data):
         MukeConfiguration._set_value_if_available(data, config, "detector", method=lambda x: MukeDetectors[x])
         MukeConfiguration._set_value_if_available(data, config, "generator", method=lambda x: MukeGenerators[x])
         MukeConfiguration._set_value_if_available(data, config, "resolution")
 
+        if data.infinite_ray:
+            config.views[0].infinite_ray = True
+
     @staticmethod
     def _set_value_if_available(source, target, name: str, method=lambda x: x):
         if MukeConfiguration._has_value(source, name):
             setattr(target, name, method(MukeConfiguration._get_value(source, name)))
 
     @staticmethod
     def _has_value(obj, name: str) -> bool:
```

## Comparing `muke-0.2.3.dist-info/LICENSE` & `muke-0.2.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `muke-0.2.3.dist-info/METADATA` & `muke-0.2.4.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: muke
-Version: 0.2.3
+Version: 0.2.4
 Summary: A simple approach to 3D keypoint detection using 2D estimation methods and multiview rendering.
 Home-page: https://github.com/cansik/multiview-3d-keypoint-detection
 Author: Florian Bruggisser
 Author-email: github@broox.ch
 License: MIT License
 Platform: UNKNOWN
 Description-Content-Type: text/markdown
@@ -75,14 +75,17 @@
 {
   "start": 10,
   "end": 15,
   "skip": [13, 14]
 }
 ```
 
+#### Infinite Ray
+Per view it is possible to set the `infinite-ray` value to `True` to shoot a ray through the mesh to infinity. Every intersection point with the mesh is used as a point to calculate the average center of the keypoint inside the mesh.
+
 #### Demo
 Quickly try out Muke by using the following commands.
 
 ```bash
 python -m muke assets/person.ply --display --resolution 1024
 ```
 
@@ -94,30 +97,32 @@
 python -m muke assets/human_head.obj --config config/media-pipe-face.json --display
 ```
 
 #### Help
 
 ```bash
 usage: muke [-h] [--detector {media-pipe-pose,media-pipe-face}]
-            [--resolution RESOLUTION] [--generator {wrap3}] [--config CONFIG]
-            [--load-raw] [--display] [--debug]
+            [--resolution RESOLUTION] [--infinite-ray] [--generator {wrap3}]
+            [--config CONFIG] [--load-raw] [--display] [--debug]
             input
 
 Detects keypoint locations in a 3d model.
 
 positional arguments:
   input                 Input mesh to process.
 
 optional arguments:
   -h, --help            show this help message and exit
   --detector {media-pipe-pose,media-pipe-face}
                         Detection method for 2d keypoint detection (default:
                         media-pipe-pose).
   --resolution RESOLUTION
                         Render resolution for each view pass (default: 512).
+  --infinite-ray        Send ray through mesh to infinity and use average of
+                        intersections (default: False)
   --generator {wrap3}   Generator methods for output generation (default:
                         wrap3).
   --config CONFIG       Path to the configuration JSON file.
   --load-raw            Load mesh raw without post-processing (default: False)
   --display             Shows result rendering with keypoints (default: False)
   --debug               Shows debug frames and information (default: False)
 ```
```

## Comparing `muke-0.2.3.dist-info/RECORD` & `muke-0.2.4.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 muke/Lines.py,sha256=Fib1WuTJBPneDVzmZ0Moimbzv3VeyuVkKo4VJM-3lkI,844
-muke/Muke.py,sha256=SkkgVvXf7hLK6grmvkPdFHuddIWyaSTl_kKdOL9d4vw,12452
+muke/Muke.py,sha256=vnuiUelp__Bg0Xk6KxA4Edn3yPut7hM2JdM0ER-0cPs,12478
 muke/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-muke/__main__.py,sha256=K8tCmzB6Mg54yXMfuu_1MqJJ-4Zg7kcG1K1yPwsuE68,2571
+muke/__main__.py,sha256=7Vf53r4kQpNBNPFQDjoUIa2aSpCCEaQtf2qT5HO8a8o,2750
 muke/detector/BaseDetector.py,sha256=b8Dxz_tLj-MW33QMnLQJbgbATskJBrAFDJWh9lM03mw,330
 muke/detector/KeyPoint2.py,sha256=ecK3grZ7PQDckJyLrM__yI7ol6ray9TSBDTy2sLDiy0,392
 muke/detector/MediaPipeFaceDetector.py,sha256=R-zxQ0cW23dQD3AJzHWqrzO9JmQn48HFKeUEtsVI3UA,613
 muke/detector/MediaPipePoseDetector.py,sha256=NSn4Nlwmhr8ZczE1VczoBoPkq125cWYMxKRmmEWP804,588
 muke/detector/MediaPiperBaseDetector.py,sha256=Tk0R0HUfvpPYNv0ezfzq_BCWqFP9sr4s3vOKZuqDb0w,1266
 muke/detector/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 muke/generator/BaseGenerator.py,sha256=Zz4wdYUeOzeIZaLMs4HUv9nLzvK-jaghk8WdNYNezi8,195
 muke/generator/Wrap3Generator.py,sha256=TChcNbZms32c4zWwfdcZAjqTosb6Nc9c0LtQW_zJAa0,536
 muke/generator/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 muke/model/DetectionView.py,sha256=GWWrHgJAbCb-iEcf1hol7DpMjKuZwBN-g0X_a45XYeM,296
 muke/model/KeyPoint3.py,sha256=s8GzjW5pqnJ4msKJwznwiQG1e21rnBGItUQUx6EG840,730
-muke/model/MukeConfiguration.py,sha256=X65CnyU6eyCkp3SxdyEc4DxLiTyM1cYn312chvj_qPc,2535
+muke/model/MukeConfiguration.py,sha256=uxabDPYMDTidGiZi6Fusj13_4ovn1sKO9wgpV8SBh2E,2727
 muke/model/__init__.py,sha256=MKgMd0WXph-XMvk2O5SXnulB1TZkQ6cLbds1rx7tTrQ,394
-muke-0.2.3.dist-info/LICENSE,sha256=YKwaroTMxLl6skIj4HeeWFDSX8x7hvPubxrpwq3R2j0,1075
-muke-0.2.3.dist-info/METADATA,sha256=jwJoOod3vD61xZiVfZyCy3HIgJQFF-PmOmwj3wFLrTo,6847
-muke-0.2.3.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-muke-0.2.3.dist-info/entry_points.txt,sha256=6xGtCrK2vuBdI1PWduZHnqipa7upgdBQXor8n7HPLOk,45
-muke-0.2.3.dist-info/top_level.txt,sha256=Ig-8L1es38Lp4DNXURKeIlXAZlgPXDXuDSdK80Xm7E0,5
-muke-0.2.3.dist-info/RECORD,,
+muke-0.2.4.dist-info/LICENSE,sha256=YKwaroTMxLl6skIj4HeeWFDSX8x7hvPubxrpwq3R2j0,1075
+muke-0.2.4.dist-info/METADATA,sha256=W7nMf-gvTFUSPLvQuS7_MVSmYUl7NT8GetB1Y-mBk6Y,7249
+muke-0.2.4.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+muke-0.2.4.dist-info/entry_points.txt,sha256=6xGtCrK2vuBdI1PWduZHnqipa7upgdBQXor8n7HPLOk,45
+muke-0.2.4.dist-info/top_level.txt,sha256=Ig-8L1es38Lp4DNXURKeIlXAZlgPXDXuDSdK80Xm7E0,5
+muke-0.2.4.dist-info/RECORD,,
```

