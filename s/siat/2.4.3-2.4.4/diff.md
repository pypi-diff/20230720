# Comparing `tmp/siat-2.4.3-py3-none-any.whl.zip` & `tmp/siat-2.4.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 1721017 bytes, number of entries: 127
+Zip file size: 1721153 bytes, number of entries: 127
 -rw-rw-rw-  2.0 fat      840 b- defN 23-Apr-10 11:29 siat/__init__.py
 -rw-rw-rw-  2.0 fat     2286 b- defN 23-Jul-17 01:30 siat/allin.py
 -rw-rw-rw-  2.0 fat      747 b- defN 23-Apr-10 11:29 siat/alpha_vantage_test.py
 -rw-rw-rw-  2.0 fat    28555 b- defN 23-Apr-10 11:29 siat/assets_liquidity.py
 -rw-rw-rw-  2.0 fat     1285 b- defN 23-Apr-10 11:29 siat/assets_liquidity_test.py
 -rw-rw-rw-  2.0 fat    10110 b- defN 23-Apr-10 11:29 siat/barrons_scraping_test.py
 -rw-rw-rw-  2.0 fat    36597 b- defN 23-Apr-10 11:29 siat/beta_adjustment.py
@@ -13,15 +13,15 @@
 -rw-rw-rw-  2.0 fat    24155 b- defN 23-Apr-10 11:29 siat/bond_base.py
 -rw-rw-rw-  2.0 fat     3002 b- defN 23-May-25 13:09 siat/bond_china.py
 -rw-rw-rw-  2.0 fat     5246 b- defN 23-Apr-10 11:29 siat/bond_test.py
 -rw-rw-rw-  2.0 fat    28922 b- defN 23-Jul-17 14:01 siat/capm_beta.py
 -rw-rw-rw-  2.0 fat     1745 b- defN 23-Apr-10 11:29 siat/capm_beta_test.py
 -rw-rw-rw-  2.0 fat    38116 b- defN 23-Apr-10 11:29 siat/cmat_commons.py
 -rw-rw-rw-  2.0 fat    76812 b- defN 23-Jul-18 05:59 siat/common.py
--rw-rw-rw-  2.0 fat    20909 b- defN 23-Jul-20 10:02 siat/compare_cross.py
+-rw-rw-rw-  2.0 fat    21053 b- defN 23-Jul-20 13:54 siat/compare_cross.py
 -rw-rw-rw-  2.0 fat     3473 b- defN 23-Apr-10 11:29 siat/compare_cross_test.py
 -rw-rw-rw-  2.0 fat     3061 b- defN 23-Apr-10 11:29 siat/concepts_iwencai.py
 -rw-rw-rw-  2.0 fat     4941 b- defN 23-Apr-10 11:29 siat/concepts_kpl.py
 -rw-rw-rw-  2.0 fat      690 b- defN 23-Apr-10 11:29 siat/copyrights.py
 -rw-rw-rw-  2.0 fat    27351 b- defN 23-Apr-10 11:29 siat/cryptocurrency.py
 -rw-rw-rw-  2.0 fat     2669 b- defN 23-Apr-10 11:29 siat/cryptocurrency_test.py
 -rw-rw-rw-  2.0 fat    41483 b- defN 23-Apr-10 11:29 siat/derivative.py
@@ -84,15 +84,15 @@
 -rw-rw-rw-  2.0 fat    75899 b- defN 23-Jul-13 11:58 siat/risk_evaluation.py
 -rw-rw-rw-  2.0 fat     3731 b- defN 23-Apr-10 11:29 siat/risk_evaluation_test.py
 -rw-rw-rw-  2.0 fat    12388 b- defN 23-Jul-13 11:53 siat/risk_free_rate.py
 -rw-rw-rw-  2.0 fat     4285 b- defN 23-Apr-10 11:29 siat/risk_free_rate_test.py
 -rw-rw-rw-  2.0 fat   102148 b- defN 23-Jul-13 11:51 siat/sector_china.py
 -rw-rw-rw-  2.0 fat     5843 b- defN 23-Apr-11 14:17 siat/sector_china_test.py
 -rw-rw-rw-  2.0 fat    29185 b- defN 23-May-25 02:36 siat/security_price.py
--rw-rw-rw-  2.0 fat    75187 b- defN 23-Jul-20 10:26 siat/security_prices.py
+-rw-rw-rw-  2.0 fat    75498 b- defN 23-Jul-20 13:43 siat/security_prices.py
 -rw-rw-rw-  2.0 fat    10779 b- defN 23-Apr-10 11:29 siat/security_prices_test.py
 -rw-rw-rw-  2.0 fat    10844 b- defN 23-Jul-20 10:33 siat/security_trend.py
 -rw-rw-rw-  2.0 fat     1335 b- defN 23-Apr-10 11:29 siat/setup.py
 -rw-rw-rw-  2.0 fat     1418 b- defN 23-Apr-10 11:29 siat/shenwan index history test.py
 -rw-rw-rw-  2.0 fat   131075 b- defN 23-Jul-17 15:52 siat/stock.py
 -rw-rw-rw-  2.0 fat    31655 b- defN 23-Apr-10 11:29 siat/stock_advice_linear.py
 -rw-rw-rw-  2.0 fat     1312 b- defN 23-Apr-10 11:29 siat/stock_base.py
@@ -118,12 +118,12 @@
 -rw-rw-rw-  2.0 fat   118133 b- defN 23-Apr-10 11:29 siat/translate-20230206.py
 -rw-rw-rw-  2.0 fat   121657 b- defN 23-Apr-10 11:29 siat/translate-20230215.py
 -rw-rw-rw-  2.0 fat   134125 b- defN 23-Jul-13 11:40 siat/translate.py
 -rw-rw-rw-  2.0 fat     3936 b- defN 23-Apr-10 11:29 siat/universal_test.py
 -rw-rw-rw-  2.0 fat    52241 b- defN 23-Jul-19 12:01 siat/valuation_china.py
 -rw-rw-rw-  2.0 fat     1571 b- defN 23-Apr-10 11:29 siat/valuation_market_china_test.py
 -rw-rw-rw-  2.0 fat    14859 b- defN 23-Apr-10 11:29 siat/var_model_validation.py
--rw-rw-rw-  2.0 fat     1411 b- defN 23-Jul-20 10:35 siat-2.4.3.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-20 10:35 siat-2.4.3.dist-info/WHEEL
--rw-rw-rw-  2.0 fat        5 b- defN 23-Jul-20 10:35 siat-2.4.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat    10211 b- defN 23-Jul-20 10:35 siat-2.4.3.dist-info/RECORD
-127 files, 7842278 bytes uncompressed, 1705431 bytes compressed:  78.3%
+-rw-rw-rw-  2.0 fat     1411 b- defN 23-Jul-20 13:56 siat-2.4.4.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-20 13:56 siat-2.4.4.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat        5 b- defN 23-Jul-20 13:56 siat-2.4.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat    10211 b- defN 23-Jul-20 13:56 siat-2.4.4.dist-info/RECORD
+127 files, 7842733 bytes uncompressed, 1705567 bytes compressed:  78.3%
```

## zipnote {}

```diff
@@ -363,20 +363,20 @@
 
 Filename: siat/valuation_market_china_test.py
 Comment: 
 
 Filename: siat/var_model_validation.py
 Comment: 
 
-Filename: siat-2.4.3.dist-info/METADATA
+Filename: siat-2.4.4.dist-info/METADATA
 Comment: 
 
-Filename: siat-2.4.3.dist-info/WHEEL
+Filename: siat-2.4.4.dist-info/WHEEL
 Comment: 
 
-Filename: siat-2.4.3.dist-info/top_level.txt
+Filename: siat-2.4.4.dist-info/top_level.txt
 Comment: 
 
-Filename: siat-2.4.3.dist-info/RECORD
+Filename: siat-2.4.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## siat/compare_cross.py

```diff
@@ -338,23 +338,24 @@
     graph=True
     printout=True
     sortby='tpw_mean'
     
     graph=False
 
 def compare_mrar_cross(dflist,rar_name,start,end, \
-                 RF=True,window=240, \
+                 RF=True,window=60, \
                  axhline_value=0,axhline_label='零线',graph=True,printout=True, \
                  sortby='tpw_mean',scope='China'):
     """
     功能：计算多种证券的rar比率，并绘图对比
     比率：支持夏普比率、特雷诺比率、索替诺比率、阿尔法比率等
     特点：支持跨种类比较，如股票/投资组合/申万行业指数/债券指数等
     
-    注意：当RF=False时可能有bug
+    注意1：当RF=False时可能有bug
+    注意2：当股票为非国内A股时，需要定义scope指定区域。这个很不灵活，需要修改：手工指定市场指数和RF
     """    
     #检查日期期间
     result,startpd,endpd=check_period(start,end)
     if not result:
         print("  #Error(compare_mrar_cross): invalid date period from",fromdate,'to',todate)
         if graph: return      
         else: return None
```

## siat/security_prices.py

```diff
@@ -234,19 +234,30 @@
     ticker="BMW.DE"
     fromdate="2023-1-1"
     todate="2023-5-20"
     
     ticker=["600519.SS",'000858.SZ']
     pricedf=get_prices(ticker,fromdate,todate)
     
-
 def remove_timezone(pricedf):
     """
     功能：去掉df索引中可能存在的时区信息，避免时区错误
-    注意：pricedf为多股票时有问题
+    """
+    
+    import datetime as dt
+    import pandas as pd
+
+    pricedf.index=pd.Series(pd.to_datetime(pricedf.index)).dt.tz_localize(None)  
+    
+    return pricedf
+    
+def remove_timezone_tmp(pricedf):
+    """
+    功能：去掉df索引中可能存在的时区信息，避免时区错误
+    注意：有问题，一直未搞定！！！
     """
     if pricedf is None:
         return pricedf
     
     pricedf['date_tz']=pricedf.index
     pricedf['date_y4m2d2']=pricedf['date_tz'].astype(str)
```

## Comparing `siat-2.4.3.dist-info/METADATA` & `siat-2.4.4.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: siat
-Version: 2.4.3
+Version: 2.4.4
 Summary: Securities Investment Analysis Tools (siat)
 Home-page: https://pypi.org/project/siat/
 Author: Prof. WANG Dehong, Business School, BFSU (北京外国语大学 国际商学院 王德宏)
 Author-email: wdehong2000@163.com
 License: Copyright (C) WANG Dehong, 2023. For educational purpose only!
 Requires-Dist: pandas-datareader
 Requires-Dist: yfinance
```

## Comparing `siat-2.4.3.dist-info/RECORD` & `siat-2.4.4.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -12,15 +12,15 @@
 siat/bond_base.py,sha256=mY1TscUH2kWzsR3Cnh5ea0Xu7-Nc8ZyFupraRipi4BM,24155
 siat/bond_china.py,sha256=ct28F7d6V0m9S3S-t-0lW1ZnSQYSCZhmsCHcZrPZno8,3002
 siat/bond_test.py,sha256=yUOFw7ddGU-kb1rJdnsjkJWziDNgUR7OLDA7F7Ub91A,5246
 siat/capm_beta.py,sha256=gmPHoaXwlUw5yrS7VCtkaDKX3ZLbMV1jxYcLvETj9_w,28922
 siat/capm_beta_test.py,sha256=ImR0c5mc4hIl714XmHztdl7qg8v1E2lycKyiqnFj6qs,1745
 siat/cmat_commons.py,sha256=Nj9Kf0alywaztVoMVeVVL_EZk5jRERJy8R8kBw88_Tg,38116
 siat/common.py,sha256=xJi1QA8MKMHX5w-DlfEqrgFEa_6VqrjiBuFhsp82f0E,76812
-siat/compare_cross.py,sha256=Q6pjT42nSv0SkhiOXRJ4bI0N5ONoHE62RekhiiKJajg,20909
+siat/compare_cross.py,sha256=fFUXJu4SlXKtq8plcWoWKK-IERsXdHJ2Dw_cRkEHxnc,21053
 siat/compare_cross_test.py,sha256=xra5XYmQGEtfIZL2h-GssdH2hLdFIhG3eoCrkDrL3gY,3473
 siat/concepts_iwencai.py,sha256=m1YEDtECRT6FqtzlKm91pt2I9d3Z_XoP59BtWdRdu8I,3061
 siat/concepts_kpl.py,sha256=SJ9UaJp5i79EXKZ3dPa_vBEoG_zgl1Ig5rZAm-ubgM4,4941
 siat/copyrights.py,sha256=YMLjZb328YpFMR-s_GUu0HBgeGce3pV7DgRut8S3I7w,690
 siat/cryptocurrency.py,sha256=SKh_S85cqd2tRgKBKls1Fpd6HdFd9JfmUTCa2e3mpsE,27351
 siat/cryptocurrency_test.py,sha256=3AikTNJ7j-HwLGLIYEfyXZ3bLVuLeru9mwiwHQi2SdA,2669
 siat/derivative.py,sha256=qV8n09799eqLc26ojR6vN5n_X-xd7rGwdYjgq-wBih8,41483
@@ -83,15 +83,15 @@
 siat/risk_evaluation.py,sha256=k5yk4bxKsjxazp-kKfQyrXyFhIHz6fHk3AA4rk2jZXc,75899
 siat/risk_evaluation_test.py,sha256=YEXM96gKzTfwN4U61AS4Rr1tV7KgUvn4rRC6f3iMw9s,3731
 siat/risk_free_rate.py,sha256=X9k-JvEtHkcQxiwCTMtTVz7LHojfAERu7eOzw_hKjsc,12388
 siat/risk_free_rate_test.py,sha256=CpmhUf8aEAEZeNu4gvWP2Mz2dLoIgBX5bI41vfUBEr8,4285
 siat/sector_china.py,sha256=r_Rt63smYYEXxpHJ6mTvi2blO_bZ8yQ11OTi9g2OExY,102148
 siat/sector_china_test.py,sha256=1wq7ef8Bb_L8F0h0W6FvyBrIcBTEbrTV7hljtpj49U4,5843
 siat/security_price.py,sha256=2oHskgiw41KMGfqtnA0i2YjNNV6cYgtlUK0j3YeuXWs,29185
-siat/security_prices.py,sha256=pfD48Qq1xbUK1VwnDb3WNw2QXpG6lXb40FE-YgiQryM,75187
+siat/security_prices.py,sha256=gESFY1FDlAaYdrTHyai8RWvCNF-BRZbLmmSK7BDq2lY,75498
 siat/security_prices_test.py,sha256=OEphoJ87NPKoNow1QA8EU_5MUYrJF-qKoWKNapVfZNI,10779
 siat/security_trend.py,sha256=LkQFERO8_7Gk0KswRCIbz0zVsjmy5B_ko9Wn2khUxz8,10844
 siat/setup.py,sha256=up65rQGLmTBkhtaMLowjoQXYmIsnycnm4g1SYmeQS6o,1335
 siat/shenwan index history test.py,sha256=JCVAzOSEldHalhSFa3pqD8JI_8_djPMQOxpkuYU-Esg,1418
 siat/stock.py,sha256=ztp3FsXf9_KFhkZli5h6eVM6cXBz8DC2IZa_XjtnWh4,131075
 siat/stock_advice_linear.py,sha256=-twT7IGP-NEplkL1WPSACcNJjggRB2j4mlAQCkzOAuo,31655
 siat/stock_base.py,sha256=uISvbRyOGy8p9QREA96CVydgflBkn5L3OXOGKl8oanc,1312
@@ -117,11 +117,11 @@
 siat/translate-20230206.py,sha256=-vtI125WyaJhmPotOpDAmclt_XnYVaWU9ByLWZ6FyYE,118133
 siat/translate-20230215.py,sha256=TJgtPE3n8IjljmZ4Pefy8dmHoNdFF-1zpML6BhA9FKE,121657
 siat/translate.py,sha256=NHaMYaQRfJJ8eTZc_J05vhhlqvZnYqDymZreR95E7OI,134125
 siat/universal_test.py,sha256=CDAOffW1Rvs-TcNN5giWVvHMlch1w4dp-w5SIV9jXL0,3936
 siat/valuation_china.py,sha256=SPJFU9J8WJhz_HOXgIAjoG8dZs1zSPS1BZxkjhA-D1w,52241
 siat/valuation_market_china_test.py,sha256=gbJ0ioauuo4koTPH6WKUkqcXiQPafnbhU5eKJ6lpdLA,1571
 siat/var_model_validation.py,sha256=zB_Skk_tmzIR15l6oAW3am4HBGVIG-eZ8gJhCdXZ8Qw,14859
-siat-2.4.3.dist-info/METADATA,sha256=ZIshL_8_SC0W2AjU-cDPHMhGY54Q9vINZnLf0CP93Zg,1411
-siat-2.4.3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-siat-2.4.3.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
-siat-2.4.3.dist-info/RECORD,,
+siat-2.4.4.dist-info/METADATA,sha256=TbrN1Qb0HCWDw7e9vq_2N-PNaUtK9XyfcqufvJiyyKg,1411
+siat-2.4.4.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+siat-2.4.4.dist-info/top_level.txt,sha256=r1cVyL7AIKqeAmEJjNR8FMT20OmEzufDstC2gv3NvEY,5
+siat-2.4.4.dist-info/RECORD,,
```

